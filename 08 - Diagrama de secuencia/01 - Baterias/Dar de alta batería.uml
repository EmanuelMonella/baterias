@startuml
actor Usuario

Usuario -> PantallaGestiónStock : RegistrarBatería(marca, modelo, stock)

PantallaGestiónStock -> ControladorStock : registrarBateria(bateria)
activate PantallaGestiónStock
activate ControladorStock
ControladorStock -> Bateria : verificarCodigoExistente(bateria.codigo)
activate Bateria
alt Código existente
    Bateria --> ControladorStock : existe = true
    ControladorStock --> PantallaGestiónStock : <<codigo existente>>
    PantallaGestiónStock --> Usuario : <<string: Codigo existente>>

else Código no existente
    Bateria --> ControladorStock : existe = false
    ControladorStock -> Bateria : registrarStock(bateria)
    Bateria --> ControladorStock : <<bateria.codigo>>
    deactivate Bateria
    ControladorStock --> PantallaGestiónStock : mostrarConfirmación("Batería registrada")
    deactivate ControladorStock
    PantallaGestiónStock --> Usuario  : <<Bateria registrada>>
end

== Flujo alternativo: cancelar ==
Usuario -> PantallaGestiónStock : clickDescartar()
PantallaGestiónStock -> Usuario: <<>>
deactivate PantallaGestiónStock

@enduml
