@startuml

Usuario -> PantallaReportes : ingresarDatos(marca, tipo)
activate PantallaReportes
PantallaReportes -> ControladorReportes : buscarHistorial(marca, tipo)
activate ControladorReportes

ControladorReportes -> HistorialCompras : consultar(marca, tipo)
activate HistorialCompras

alt registros encontrados
    HistorialCompras --> ControladorReportes : listaDatos
    deactivate HistorialCompras
    ControladorReportes --> PantallaReportes : resultados
    deactivate ControladorReportes
    PantallaReportes --> Usuario : historialEnPantalla
    deactivate PantallaReportes

else sin registros
    HistorialCompras --> ControladorReportes : sinDatos
    deactivate HistorialCompras
    ControladorReportes --> PantallaReportes : mensaje="NO HAY REGISTROS"
    deactivate ControladorReportes
    PantallaReportes --> Usuario : avisoMostrado
    deactivate PantallaReportes
end

== Cancelar ==
Usuario -> PantallaReportes : cancelar
PantallaReportes -> ControladorReportes : cancelarConsulta
activate ControladorReportes
ControladorReportes --> PantallaReportes : cancelado
deactivate ControladorReportes
PantallaReportes --> Usuario : operacionCancelada

@enduml
